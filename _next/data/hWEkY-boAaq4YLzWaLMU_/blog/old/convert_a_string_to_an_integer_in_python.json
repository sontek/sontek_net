{"pageProps":{"postData":{"id":["old","convert_a_string_to_an_integer_in_python"],"path":"old/convert_a_string_to_an_integer_in_python","contentHtml":"<p>A fun interview question some developers like to ask is to have you\nconvert ascii characters to an integer without using built in methods\nlike string.atoi or int().</p>\n<p>So using python the obvious ways to convert a string to an integer are\nthese:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-meta\">>>> </span><span class=\"hljs-built_in\">int</span>(<span class=\"hljs-string\">'1234'</span>)\n<span class=\"hljs-number\">1234</span>\n<span class=\"hljs-meta\">>>> </span><span class=\"hljs-keyword\">import</span> string\n<span class=\"hljs-meta\">>>> </span>string.atoi(<span class=\"hljs-string\">'1234'</span>)\n<span class=\"hljs-number\">1234</span>\n</code></pre>\n<p>The interesting thing here is finding out where on the ascii character\ntable the number is. Luckily python has this already built in with the\nord method:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-meta\">>>> </span><span class=\"hljs-built_in\">help</span>(<span class=\"hljs-built_in\">ord</span>)\n\n<span class=\"hljs-built_in\">ord</span>(...)\n    <span class=\"hljs-built_in\">ord</span>(c) -> integer\n\n    Return the integer ordinal of a one-character string.\n\n<span class=\"hljs-meta\">>>> </span><span class=\"hljs-built_in\">ord</span>(<span class=\"hljs-string\">'1'</span>)\n<span class=\"hljs-number\">49</span>\n<span class=\"hljs-meta\">>>> </span><span class=\"hljs-built_in\">ord</span>(<span class=\"hljs-string\">'2'</span>)\n<span class=\"hljs-number\">50</span>\n</code></pre>\n<p>You can see that the numbers are grouped together on the ascii table, so\nyou just have to grab '0' as the base and subtract the rest:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-meta\">>>> </span><span class=\"hljs-built_in\">ord</span>(<span class=\"hljs-string\">'1'</span>)-<span class=\"hljs-built_in\">ord</span>(<span class=\"hljs-string\">'0'</span>)\n<span class=\"hljs-number\">1</span>\n</code></pre>\n<p>So if we have the string '1234', we can get each of the individual\nnumbers by looping over it:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-meta\">>>> </span>num_string = <span class=\"hljs-string\">'1234'</span>\n<span class=\"hljs-meta\">>>> </span>num_list = []\n<span class=\"hljs-meta\">>>> </span>base = <span class=\"hljs-built_in\">ord</span>(<span class=\"hljs-string\">'0'</span>)\n<span class=\"hljs-meta\">>>> </span><span class=\"hljs-keyword\">for</span> num <span class=\"hljs-keyword\">in</span> num_string:\n<span class=\"hljs-meta\">... </span>  num_list.append(<span class=\"hljs-built_in\">ord</span>(num) - base)\n...\n<span class=\"hljs-meta\">>>> </span><span class=\"hljs-built_in\">print</span> num_list\n[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>]\n</code></pre>\n<p>but now how to we combine all these together to get 1234? You can't\njust add them up because you'll just get 1+2+3+4 = 10.</p>\n<p>So, we have to get 1000 + 200 + 30 + 4, which is a simple problem to\nsolve. Its just number times 10 to the nth power, so the final solution\nis:</p>\n<pre><code class=\"hljs language-python\">num = <span class=\"hljs-string\">'1234'</span>\nnew_num = <span class=\"hljs-number\">0</span>\nbase = <span class=\"hljs-built_in\">ord</span>(<span class=\"hljs-string\">'0'</span>)\n\n<span class=\"hljs-keyword\">for</span> i,n <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">enumerate</span>(<span class=\"hljs-built_in\">reversed</span>(num)):\n      new_num += (<span class=\"hljs-built_in\">ord</span>(n) - base) * (<span class=\"hljs-number\">10</span>**i)\n\n<span class=\"hljs-built_in\">print</span> new_num\n</code></pre>\n<p>This code is a little verbose though, lets make it a dirty nasty one\nliner!</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-meta\">>>> </span><span class=\"hljs-built_in\">sum</span>([(<span class=\"hljs-built_in\">ord</span>(n)-<span class=\"hljs-built_in\">ord</span>(<span class=\"hljs-string\">'0'</span>)) * (<span class=\"hljs-number\">10</span> ** i) <span class=\"hljs-keyword\">for</span> i,n <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">enumerate</span>(<span class=\"hljs-built_in\">reversed</span>(<span class=\"hljs-string\">'1234'</span>))])\n<span class=\"hljs-number\">1234</span>\n</code></pre>","category":"Development","date":"2010-10-28T00:00:00Z","tags":["Python","Interviews"],"title":"Convert a string to an integer in Python"}},"__N_SSG":true}